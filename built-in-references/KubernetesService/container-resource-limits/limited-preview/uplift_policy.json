{
      "mode": "Microsoft.ContainerService.Data",

      "parameters": {
        "effect": {
          "type": "String",
          "defaultValue": "EnforceRegoPolicy",
          "allowedValues": [ "EnforceRegoPolicy", "Disabled" ],
          "metadata":{ 
            "displayName": "Effect",
            "description": "Enable or disable the execution of the policy"
          }
        }
      },
      "policyRule": {
        "if": {
          "field": "type",
          "in": [
            "AKS Engine",
            "Microsoft.Kubernetes/connectedClusters",
            "Microsoft.ContainerService/managedClusters"
          ]
        },
        "then": {
          "effect": "[parameters('effect')]",
          "details": {
            "constraintTemplate": "https://raw.githubusercontent.com/Azure/azure-policy/master/built-in-references/KubernetesService/container-resource-limits/limited-preview/gatekeeperpolicy.rego"
          }
        }
      }
    },
    "id": "/providers/Microsoft.Authorization/policyDefinitions/a2d3ed81-8d11-4079-80a5-1faadc0024f4",
    "name": "a2d3ed81-8d11-4079-80a5-1faadc0024f4"
  }